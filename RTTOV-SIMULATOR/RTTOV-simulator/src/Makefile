#
# Makefile --- 
#

PROJECT_HOME= ../
RTTOV_HOME=../../../rttov/build-zvertinho/
# RTTOV_HOME=/g3/wanghao/kezuo/xhj/rttov12
# GRIBAPI_HOME=/usr/local/gribapi_withjasper/
GRIBAPI_HOME=/usr/local/gribapi/
# GRIBAPI_HOME=/g1/app/mathlib/grib_api/1.24.0/intel

# =============namespace====================

BASE     =  rttovscatt

FWD 	 =  $(BASE)_fwd
KAD   	 =  $(BASE)_kad
FWD_PAD  =  $(FWD)_padding
KAD_PAD  =  $(KAD)_padding
K        =  rttov_k
TABLE    =  generate_hydrometeor_table
FWD_PAD_VERTINHO = $(FWD_PAD)_vertinho
FWD_PAD_VERTINHO_INTERP = $(FWD_PAD_VERTINHO)_interp
FWD_ZVERTINHO_INTERP = $(FWD)_zvertinho_interp


MAIN_FWD =  $(FWD)_main
MAIN_KAD =  $(KAD)_main
MAIN_K   =  $(K)_main
MAIN_FWD_PAD =  $(FWD_PAD)_main
MAIN_KAD_PAD =  $(KAD_PAD)_main
MAIN_FWD_PAD_VERTINHO = $(FWD_PAD_VERTINHO)_main
MAIN_FWD_PAD_VERTINHO_INTERP = $(FWD_PAD_VERTINHO_INTERP)_main
MAIN_FWD_ZVERTINHO_INTERP = $(FWD_ZVERTINHO_INTERP)_main

MOD      =  $(BASE)_mod

# ------------subroutine-------------
GRIBAPI =  $(BASE)_gribapi
COMPUT  =  $(BASE)_comput
SELECT  =  $(BASE)_select
SVA     =  $(BASE)_sva
BINARY  =  $(BASE)_readbinary

PRINT   =  print_1d_data
TEST    =  test_MinMax

# ------------extension---------------
EXT_BIN=.exe
EXT_OBJ=.o
EXT_FOR=.F90
EXT_LIB=.a
EXT_MOD=.mod

# -----------compiler&flag-----------

FC      	    =  gfortran
PROJECT_FFLAG   =  -I$(PROJECT_HOME)/mod/ -I$(PROJECT_HOME)/include/
RTTOV_FFLAG     =  -I$(RTTOV_HOME)/mod/   -I$(RTTOV_HOME)/include/ 
GRIBAPI_FFLAG   =  -I$(GRIBAPI_HOME)/include/

GRIBAPI_LLIBS   =  -L$(GRIBAPI_HOME)/lib/ -lgrib_api_f90 -lgrib_api
RTTOV_LLIBS     =  -L$(RTTOV_HOME)/lib/ -lrttov12_brdf_atlas -lrttov12_emis_atlas -lrttov12_mw_scatt -lrttov12_other -lrttov12_coef_io -lrttov12_parallel -lrttov12_main -lrttov12_hdf

GRIBAPI_LDFLAGS =  -L$(GRIBAPI_HOME)/lib/
RTTOV_LDFLAGS   =  -L$(RTTOV_HOME)/lib/

ADD_FFLAG       =  -fPIC -O3 -fopenmp -ffree-line-length-none
LDFLAGS_ARCH    =  -fopenmp
MVMOD           =  mv

# ------------directory--------------

BINDIR=$(PROJECT_HOME)/bin/
OBJDIR=$(PROJECT_HOME)/obj/
MODDIR=$(PROJECT_HOME)/mod/

#-----------------------------------------------------------------

include $(RTTOV_HOME)/../build/Makefile.local

# all: $(FWD) $(K) $(KAD) $(FWD_PAD) $(KAD_PAD) $(FWD_PAD_VERTINHO) $(FWD_PAD_VERTINHO_INTERP) $(TABLE) 
all: $(FWD_ZVERTINHO_INTERP)


# [A] BIN
$(FWD): $(BINDIR)/$(FWD)$(EXT_BIN)

$(K): $(BINDIR)/$(K)$(EXT_BIN)

$(KAD): $(BINDIR)/$(KAD)$(EXT_BIN)

$(FWD_PAD): $(BINDIR)/$(FWD_PAD)$(EXT_BIN)

$(KAD_PAD): $(BINDIR)/$(KAD_PAD)$(EXT_BIN)

$(FWD_PAD_VERTINHO): $(BINDIR)/$(FWD_PAD_VERTINHO)$(EXT_BIN)

$(FWD_PAD_VERTINHO_INTERP): $(BINDIR)/$(FWD_PAD_VERTINHO_INTERP)$(EXT_BIN)

$(TABLE): $(BINDIR)/$(TABLE)$(EXT_BIN)

$(FWD_ZVERTINHO_INTERP): $(BINDIR)/$(FWD_ZVERTINHO_INTERP)$(EXT_BIN)

# [B] OBJ & MOD
$(MODDIR)/$(MOD)$(EXT_MOD): $(MOD)$(EXT_FOR)
	$(FC) $(RTTOV_FFLAG) -c $(MOD)$(EXT_FOR) -o $(OBJDIR)/$(MOD)$(EXT_OBJ)
	$(MVMOD) $(MOD)$(EXT_MOD) $(MODDIR)

$(OBJDIR)/$(TEST)$(EXT_OBJ): $(TEST)$(EXT_FOR)
	$(FC) $(RTTOV_FFLAG) -c $(TEST)$(EXT_FOR) -o $(OBJDIR)/$(TEST)$(EXT_OBJ)

$(OBJDIR)/$(SVA)$(EXT_OBJ): $(SVA)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) -c $(SVA)$(EXT_FOR) -o $(OBJDIR)/$(SVA)$(EXT_OBJ)

$(OBJDIR)/$(COMPUT)$(EXT_OBJ): $(COMPUT)$(EXT_FOR)
	$(FC) $(RTTOV_FFLAG) -c $(COMPUT)$(EXT_FOR) -o $(OBJDIR)/$(COMPUT)$(EXT_OBJ)

$(OBJDIR)/$(PRINT)$(EXT_OBJ): $(PRINT)$(EXT_FOR)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) -c $(PRINT)$(EXT_FOR) -o $(OBJDIR)/$(PRINT)$(EXT_OBJ)

$(OBJDIR)/$(SELECT)$(EXT_OBJ): $(SELECT)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) -c $(SELECT)$(EXT_FOR) -o $(OBJDIR)/$(SELECT)$(EXT_OBJ)

$(OBJDIR)/$(GRIBAPI)$(EXT_OBJ): $(GRIBAPI)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) \
	-c $(GRIBAPI)$(EXT_FOR) -o $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ)

$(OBJDIR)/$(BINARY)$(EXT_OBJ): $(BINARY)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) -c $(BINARY)$(EXT_FOR) -o $(OBJDIR)/$(BINARY)$(EXT_OBJ)

# [C] PROGRAM

$(OBJDIR)/$(MAIN_FWD)$(EXT_OBJ): $(MAIN_FWD)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_FWD)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_FWD)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_K)$(EXT_OBJ): $(MAIN_K)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_K)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_K)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_KAD)$(EXT_OBJ): $(MAIN_KAD)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_KAD)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_KAD)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_FWD_PAD)$(EXT_OBJ): $(MAIN_FWD_PAD)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_FWD_PAD)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_FWD_PAD)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_KAD_PAD)$(EXT_OBJ): $(MAIN_KAD_PAD)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_KAD_PAD)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_KAD_PAD)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO)$(EXT_OBJ): $(MAIN_FWD_PAD_VERTINHO)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_FWD_PAD_VERTINHO)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO_INTERP)$(EXT_OBJ): $(MAIN_FWD_PAD_VERTINHO_INTERP)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(GRIBAPI_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_FWD_PAD_VERTINHO_INTERP)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO_INTERP)$(EXT_OBJ)

$(OBJDIR)/$(MAIN_FWD_ZVERTINHO_INTERP)$(EXT_OBJ): $(MAIN_FWD_ZVERTINHO_INTERP)$(EXT_FOR) $(MODDIR)/$(MOD)$(EXT_MOD)
	$(FC) $(RTTOV_FFLAG) $(PROJECT_FFLAG) $(ADD_FFLAG) $(LDFLAGS_ARCH) \
	-c $(MAIN_FWD_ZVERTINHO_INTERP)$(EXT_FOR) -o $(OBJDIR)/$(MAIN_FWD_ZVERTINHO_INTERP)$(EXT_OBJ)

$(OBJDIR)/$(TABLE)$(EXT_OBJ): $(TABLE)$(EXT_FOR)
	$(FC) $(PROJECT_FFLAG) $(RTTOV_FFLAG) $(GRIBAPI_FFLAG) \
	-c $(TABLE)$(EXT_FOR) -o $(OBJDIR)/$(TABLE)$(EXT_OBJ)

# [D] link 

$(BINDIR)/$(FWD)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_FWD)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(FWD)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_FWD)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(K)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_K)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(K)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_K)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(KAD)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_KAD)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(KAD)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_KAD)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(FWD_PAD)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_FWD_PAD)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(FWD_PAD)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_FWD_PAD)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(KAD_PAD)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_KAD_PAD)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) $(OBJDIR)/$(PRINT)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(KAD_PAD)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_KAD_PAD)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) $(OBJDIR)/$(PRINT)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(FWD_PAD_VERTINHO)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(FWD_PAD_VERTINHO)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(FWD_PAD_VERTINHO_INTERP)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO_INTERP)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(FWD_PAD_VERTINHO_INTERP)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_FWD_PAD_VERTINHO_INTERP)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) $(GRIBAPI_LLIBS) \
	$(RTTOV_LDFLAGS) $(GRIBAPI_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

$(BINDIR)/$(TABLE)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(TABLE)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) $(OBJDIR)/$(PRINT)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(TABLE)$(EXT_BIN) \
	$(OBJDIR)/$(TABLE)$(EXT_OBJ) $(OBJDIR)/$(GRIBAPI)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) $(OBJDIR)/$(PRINT)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(GRIBAPI_LLIBS) \
	$(GRIBAPI_LDFLAGS) \

$(BINDIR)/$(FWD_ZVERTINHO_INTERP)$(EXT_BIN): $(MODDIR)/$(MOD)$(EXT_MOD) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) $(OBJDIR)/$(BINARY)$(EXT_OBJ) $(OBJDIR)/$(MAIN_FWD_ZVERTINHO_INTERP)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ)
	$(FC) -o $(BINDIR)/$(FWD_ZVERTINHO_INTERP)$(EXT_BIN) \
	$(OBJDIR)/$(MAIN_FWD_ZVERTINHO_INTERP)$(EXT_OBJ) $(OBJDIR)/$(BINARY)$(EXT_OBJ) $(OBJDIR)/$(SELECT)$(EXT_OBJ) \
	$(OBJDIR)/$(COMPUT)$(EXT_OBJ) $(OBJDIR)/$(SVA)$(EXT_OBJ) $(OBJDIR)/$(TEST)$(EXT_OBJ) \
	$(OBJDIR)/$(MOD)$(EXT_OBJ) \
	$(RTTOV_LLIBS) \
	$(RTTOV_LDFLAGS) \
	$(LDFLAGS_NETCDF) $(LDFLAGS_HDF5) $(LDFLAGS_ARCH) $(LDFLAGS_LAPACK)

clean:
	rm -f $(BINDIR)/*$(EXT_BIN)
	rm -f $(MODDIR)/*$(EXT_MOD)
	rm -f $(OBJDIR)/*$(EXT_OBJ)
